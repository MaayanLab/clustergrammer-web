<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <base href='/clustergrammer/'>

    <title>clustergrammer</title>

    <!-- <link rel="shortcut icon" href="static/map-o_32_transparent.ico"  type="image/x-icon"> -->
    <link rel="shortcut icon" href="static/icons/graham_cracker.ico"  type="image/x-icon">

    <!-- Bootstrap Core CSS -->
    <link href="static/lib/css/bootstrap.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="static/lib/css/bootstrap-switch.css">
    <link rel="stylesheet" href="static/css/specific.css" />
    <link rel="stylesheet" href="static/css/custom_index.css">
    <link rel="stylesheet" href="static/lib/css/prettify.css">
    <link rel="stylesheet" href="static/css/font-awesome.min.css">

    <style>
      #input_form {display: none}
    </style>

</head>

<body onload="prettyPrint()">

  <div id="wrapper" class='toggled'>

    <div id="page-content-wrapper">

      <!-- main container - required --> 
      <div id='main_container'>

        <!-- this row is - required fluid causes problems --> 
        <div class="row" > 

          <img src="static/icons/graham_cracker_70.png" id='home_graham_cracker' style="width:35px;height:35px;" >
          <h1 id='website_title'> clustergrammer {{flask_var}}</h1>

          <p id='first_instructions' class='initial_paragraph'>Upload a matrix as a tab-separated file to obtain a zoomable, reorderable, and shareable clustergram like the example below. Press play or explore the interactive example below to see all the interactive features. </p>

          <!-- non-local mongodb -->
          <!-- <iframe id='iframe_preview' src="/clustergrammer/demo/565e1570b1a04e1ea26fa369?preview=true" frameBorder="0"></iframe>  -->
          <!-- local mongodb -->
          <iframe id='iframe_preview' src="/clustergrammer/demo/566e19b69ff088326c679cc5?preview=true" frameBorder="0"></iframe> 

          <a id=demo_link class='blue_links' href="/clustergrammer/viz/565e1570b1a04e1ea26fa369" target="_blank">Open example in clustergrammer</a>

          <div id='upload_section'>

            <p class='initial_paragraph'>Your uploaded matrix file should have the following format: </p>

              <pre id='example_tsv' class='prettyprint'> 
       Col-A   Col-B   Col-C
Row-A   0.0    -0.1     1.0
Row-B   3.0     0.0     8.0
Row-C   0.2     0.1     2.5
              </pre>

            <p class='initial_paragraph'>and have a .txt or .tsv file extension. </p>
            <p class='initial_paragraph'>Once uploaded you will obtain a permanent and shareable link to your visualization. </p>

            <form id='input_form'  action="{{ url_for('upload_network') }}" method=post enctype=multipart/form-data>
              <input type=file name=file title='Choose File'  >
              <input class='btn btn-primary' id='file_upload_button' type=submit value=Upload>
            </form>

          </div>                            

        </div>
        <!-- end row -->

      </div>
      <!-- end main container -->

    </div>
    <!-- end page content wrapper -->

  </div> 
  <!-- /end wrapper -->

  <footer id='footer_div' class="footer navbar-fixed-bottom">
    <div class="row" > 
      <div class="col-xs-12 footer_section"> 
        <div id='footer_text' class="text-muted">clustergrammer is being developed by the <a class='blue_links' href="http://icahn.mssm.edu/research/labs/maayan-laboratory">Ma'ayan Lab</a> at the <a class='blue_links'  href="http://icahn.mssm.edu/">Icahn School of Medicine at Mount Sinai</a>. </div>
      </div>
    </div>
  </footer>

  <!-- Modals -->
  <div id='modal_wrong_filetype' class="modal fade" role="dialog" aria-labelledby="gridSystemModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="gridSystemModalLabel">File error:</h4>
        </div>
        <div class="modal-body">

          <div class="container-fluid">

            <h5 class="modal-title" id="gridSystemModalLabel">Please check your uploaded file to make sure it is in the correct tab-separated format and that it has the correct extension of .txt or .tsv.</h5>

          </div>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->

  <div id='modal_no_file' class="modal fade" role="dialog" aria-labelledby="gridSystemModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="gridSystemModalLabel">No File Chosen:</h4>
        </div>
        <div class="modal-body">

          <div class="container-fluid">

            <h5 class="modal-title" id="gridSystemModalLabel">Please select a file to upload using the Choose File buton.</h5>

          </div>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->


  <!-- Vendor -->
  <!-- jQuery -->
  <script src="static/lib/js/jquery-1.11.2.min.js"></script>

  <!-- <script src='static/lib/js/jquery.accordion.js'></script> -->
  <!-- Bootstrap Core JavaScript -->
  <script src="static/lib/js/bootstrap.min.js"></script>
  <script src="static/lib/js/bootstrap-switch.min.js"></script>
  <script src="static/lib/js/d3.js"></script>
  
  <!-- stylized file upload button -->
  <!-- http://gregpike.net/demos/bootstrap-file-input/demo.html -->
  <script type="text/javascript" src="static/lib/js/bootstrap.file-input.js"> </script>
  <script type="text/javascript">
    $('input[type=file]').bootstrapFileInput();
    $('.file-inputs').bootstrapFileInput();
  </script>
  <script type="text/javascript" src="static/lib/js/prettify.js"> </script>

  <!-- style code -->
  <!-- Clustergram Scripts -->
  <script src='static/js/d3_clustergram.js'></script>
  <script src='static/js/load_local_network.js'></script>

  <script>
   
    // display the upload button 
    d3.select('#input_form').style('display','block');

  </script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-71147904-1', 'auto');
    ga('send', 'pageview');
  </script>


</body>

