<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <base href='/clustergrammer/'>

    <title>Clustergrammer - CCLE</title>

    <!-- <link rel="shortcut icon" href="static/map-o_32_transparent.ico"  type="image/x-icon"> -->
    <link rel="shortcut icon" href="static/icons/graham_cracker.ico"  type="image/x-icon">

    <!-- Bootstrap Core CSS -->
    <link href="static/lib/css/bootstrap.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="static/lib/css/bootstrap-switch.css">
    <link rel="stylesheet" href="static/css/specific.css" />
    <link rel="stylesheet" href="static/css/custom_ccle.css">
    <link rel="stylesheet" href="static/lib/css/prettify.css">
    <link rel="stylesheet" href="static/css/font-awesome.min.css">

    <style>
      #input_form {display: none}
    </style>

</head>

<body onload="prettyPrint()">

  <!-- Wrap all page content here -->
  <div id="wrap" class='toggled'>

      <!-- main container - required --> 
      <div id='main_container'>

        <!-- this row is - required fluid causes problems --> 
        <div class="row" > 



          <a href="/clustergrammer/">
            <img class='help_figure' id='clustergrammer_logo' src="static/img/clustergrammer_logo.png" alt="Clustergrammer"> 
          </a>

          <h1 id='website_title'> CCLE Explorer </h1>

          <p class='initial_paragraph first_instructions'>
          The Cancer Cell Line Encyclopedia (CCLE) Explorer enables users to browse relative mRNA expression data for cancer cell lines from the CCLE by tissue of origin using Clustergrammer. Click on a tissue type to view a clustergram of gene expression data from the selected tissue type. </p>

          <!-- non-local mongodb -->
          <div id='tree_container'> 
          </div> 

          <!-- <a id=demo_link class='blue_links' href="/clustergrammer/viz/566f6bbfb1a04e7f4087fcad" target="_blank">See example in full page</a> -->

          <div id='upload_section'>

          <p class='initial_paragraph'>The size of the rectangle indicates the number of cell lines that are available for a tissue-type in the CCLE. The CCLE gene expression data has been Z-score normalized and each tissue subtype clustergram will display the top 500 genes with the most differential expression in the tissue group. </p>

          <a href="help" target="_blank" class="btn share-button" id="help_link"><i class="fa fa-question-circle"></i></a>

          </div>                            

          <!-- start example row -->
          <!-- <div id='homepage_examples'> -->

            <!-- <p id='example_title'>Clustergrammer Web-App Integration Examples</p> -->

            <!-- <div class='row' >
              

              <div class='col-xs-4 example_col'>
                <p class='example_single_title'>L1000CDS2</p>
                <a href='http://amp.pharm.mssm.edu/clustergrammer/l1000cds2/55e0b68a5bf3665f1a726bfa' target='_blank'>
                  <div class='example_image_container'>
                    <img class='example_image' id='L1000CDS2' src="static/img/L1000CDS2.png" alt="L1000CDS2">
                  </div>
                </a>
                <p class='example_single_description'>Clustergrammer visualizes gene-expression-signature search results from the Ma'ayan lab web tool L1000CDS2, which allows users to find perturbations from the L1000 project whose signatures are similar or antisimilar to their input signature. </p>
              </div>

              <div class='col-xs-4 example_col'>
                <p class='example_single_title'>Enrichr</p>
                <a href='http://amp.pharm.mssm.edu/Enrichr/' target='_blank'>
                  <div class='example_image_container'>
                    <img class='example_image' id='Enrichr' src="static/img/Enrichr.png" alt="Enrichr">
                  </div>
                </a>
                <p class='example_single_description'>Clustergrammer visualizes enrichment analysis results from Enrichr. The rows of the matrix are a user's input genes and the columns are the top enriched terms.</p>
              </div>

              <div class='col-xs-4 example_col'>
                <p class='example_single_title'>Harmonogram</p>
                <a href='http://amp.pharm.mssm.edu/harmonogram/' target='_blank'>
                  <div class='example_image_container'>
                    <img class='example_image' id='harmonizome' src="static/img/harmonizome.png" alt="Harmonogram">
                  </div>
                </a>
                <p class='example_single_description'>Clustergrammer visualizes data from over 100 biological resources for the Ma'ayan lab web-resource Harmonogram. </p>
              </div>              

            </div> -->
            <!-- end row -->


          <!-- </div> -->

        </div>
        <!-- end row -->


      </div>
      <!-- end main container -->

  </div> 
  <!-- End Wrap all page content here -->

  <div id='footer'>
    <div class="row" id='footer-row' > 
      <div id='footer_text_container' class="col-xs-12 footer_section"> 
        <div class="text-muted footer_text">Clustergrammer is being developed by the <a class='blue_links' target="_blank"  href="http://icahn.mssm.edu/research/labs/maayan-laboratory">Ma'ayan Lab</a> at the <a class='blue_links' target="_blank"   href="http://icahn.mssm.edu/">Icahn School of Medicine at Mount Sinai</a>  for the <a target="_blank" href="http://lincs-dcic.org/">BD2K-LINCS DCIC</a> and the <a target="_blank" href="http://commonfund.nih.gov/idg/overview">KMC-IDG</a>  </div>
        <!-- DCIC, BD2K, KMC, and GitHub -->
        <div class="text-muted footer_text">
        and is an open source project available on GitHub: <a class='blue_links' target="_blank"  href="https://github.com/MaayanLab/clustergrammer">Clustergrammer</a> and <a class='blue_links' target="_blank"  href="https://github.com/cornhundred/clustergrammer.js">Clustergrammer.js</a>
         
        </div>

      </div>
    </div>
  </div>

  


    <!-- Vendor -->
  <!-- jQuery -->
  <script src="static/lib/js/jquery-1.11.2.min.js"></script>

  <!-- <script src='static/lib/js/jquery.accordion.js'></script> -->
  <!-- Bootstrap Core JavaScript -->
  <script src="static/lib/js/bootstrap.min.js"></script>
  <script src="static/lib/js/bootstrap-switch.min.js"></script>
  <script src="static/lib/js/blockUI.js"></script>
  <script src="static/lib/js/d3.js"></script>
  
  <!-- stylized file upload button -->
  <!-- http://gregpike.net/demos/bootstrap-file-input/demo.html -->
  <script type="text/javascript" src="static/lib/js/bootstrap.file-input.js"> </script>
  <script type="text/javascript">
    $('input[type=file]').bootstrapFileInput();
    $('.file-inputs').bootstrapFileInput();
  </script>
  <script type="text/javascript" src="static/lib/js/prettify.js"> </script>

  <!-- style code -->
  <!-- Clustergram Scripts -->
  <script src='static/js/d3_clustergram.js'></script>
  

  <script>
   

  // var tree = {
  //     name: "tree",
  //     "children": [
  //     {
  //       "size": 12, 
  //       "name": "THYROID"
  //     }, 
  //     {
  //       "size": 2, 
  //       "name": "SALIVARY GLAND"
  //     }, 
  //     {
  //       "size": 21, 
  //       "name": "SOFT TISSUE"
  //     }, 
  //     {
  //       "size": 180, 
  //       "name": "HAEMATOPOIETIC AND LYMPHOID"
  //     }, 
  //     {
  //       "size": 8, 
  //       "name": "BILIARY TRACT"
  //     }, 
  //     {
  //       "size": 44, 
  //       "name": "PANCREAS"
  //     }, 
  //     {
  //       "size": 69, 
  //       "name": "CENTRAL NERVOUS SYSTEM"
  //     }, 
  //     {
  //       "size": 1, 
  //       "name": "SMALL INTESTINE"
  //     }, 
  //     {
  //       "size": 29, 
  //       "name": "BONE"
  //     }, 
  //     {
  //       "size": 61, 
  //       "name": "LARGE INTESTINE"
  //     }, 
  //     {
  //       "size": 17, 
  //       "name": "AUTONOMIC GANGLIA"
  //     }, 
  //     {
  //       "size": 11, 
  //       "name": "PLEURA"
  //     }, 
  //     {
  //       "size": 27, 
  //       "name": "URINARY TRACT"
  //     }, 
  //     {
  //       "size": 187, 
  //       "name": "LUNG"
  //     }, 
  //     {
  //       "size": 59, 
  //       "name": "BREAST"
  //     }, 
  //     {
  //       "size": 62, 
  //       "name": "SKIN"
  //     }, 
  //     {
  //       "size": 52, 
  //       "name": "OVARY"
  //     }, 
  //     {
  //       "size": 8, 
  //       "name": "PROSTATE"
  //     }, 
  //     {
  //       "size": 36, 
  //       "name": "KIDNEY"
  //     }, 
  //     {
  //       "size": 32, 
  //       "name": "UPPER AERODIGESTIVE TRACT"
  //     }, 
  //     {
  //       "size": 38, 
  //       "name": "STOMACH"
  //     }, 
  //     {
  //       "size": 27, 
  //       "name": "ENDOMETRIUM"
  //     }, 
  //     {
  //       "size": 26, 
  //       "name": "OESOPHAGUS"
  //     }, 
  //     {
  //       "size": 28, 
  //       "name": "LIVER"
  //     }
  //   ]
  // };

var tree = {
  name: "tree",
  "children": [
    {
      "mongo_id": "568088c2aa0fce664fa0d1c4", 
      "name": "THYROID", 
      "size": 12
    }, 
    {
      "mongo_id": "568088c3aa0fce664fa0d1c6", 
      "name": "SOFT TISSUE", 
      "size": 21
    }, 
    {
      "mongo_id": "568088c6aa0fce664fa0d1c7", 
      "name": "HAEMATOPOIETIC AND LYMPHOID TISSUE", 
      "size": 180
    }, 
    {
      "mongo_id": "568088ceaa0fce664fa0d1cc", 
      "name": "BILIARY TRACT", 
      "size": 8
    }, 
    {
      "mongo_id": "568088caaa0fce664fa0d1c9", 
      "name": "PANCREAS", 
      "size": 44
    }, 
    {
      "mongo_id": "568088ccaa0fce664fa0d1ca", 
      "name": "CENTRAL NERVOUS SYSTEM", 
      "size": 69
    }, 
    {
      "mongo_id": "568088cdaa0fce664fa0d1cb", 
      "name": "BONE", 
      "size": 29
    }, 
    {
      "mongo_id": "568088c9aa0fce664fa0d1c8", 
      "name": "LARGE INTESTINE", 
      "size": 61
    }, 
    {
      "mongo_id": "568088ceaa0fce664fa0d1cd", 
      "name": "AUTONOMIC GANGLIA", 
      "size": 17
    }, 
    {
      "mongo_id": "568088cfaa0fce664fa0d1ce", 
      "name": "PLEURA", 
      "size": 11
    }, 
    {
      "mongo_id": "568088d0aa0fce664fa0d1cf", 
      "name": "URINARY TRACT", 
      "size": 27
    }, 
    {
      "mongo_id": "568088d2aa0fce664fa0d1d0", 
      "name": "LUNG", 
      "size": 187
    }, 
    {
      "mongo_id": "568088d5aa0fce664fa0d1d1", 
      "name": "BREAST", 
      "size": 59
    }, 
    {
      "mongo_id": "568088d6aa0fce664fa0d1d2", 
      "name": "SKIN", 
      "size": 62
    }, 
    {
      "mongo_id": "568088d7aa0fce664fa0d1d3", 
      "name": "OVARY", 
      "size": 52
    }, 
    {
      "mongo_id": "568088d8aa0fce664fa0d1d4", 
      "name": "PROSTATE", 
      "size": 8
    }, 
    {
      "mongo_id": "568088d9aa0fce664fa0d1d5", 
      "name": "KIDNEY", 
      "size": 36
    }, 
    {
      "mongo_id": "568088daaa0fce664fa0d1d6", 
      "name": "UPPER AERODIGESTIVE TRACT", 
      "size": 32
    }, 
    {
      "mongo_id": "568088dbaa0fce664fa0d1d7", 
      "name": "STOMACH", 
      "size": 38
    }, 
    {
      "mongo_id": "568088dbaa0fce664fa0d1d8", 
      "name": "ENDOMETRIUM", 
      "size": 27
    }, 
    {
      "mongo_id": "568088ddaa0fce664fa0d1d9", 
      "name": "OESOPHAGUS", 
      "size": 26
    }, 
    {
      "mongo_id": "568088deaa0fce664fa0d1da", 
      "name": "LIVER", 
      "size": 28
    }
  ]
}

var width = 940, // innerWidth-40
    height = 600, // innerHeight-40,
    color = d3.scale.category20c(),
    div = d3.select("#tree_container").append("div")
       .attr('id','new_div')
       .style("position", "relative");

var treemap = d3.layout.treemap()
    .size([width, height])
    .sticky(true)
    .value(function(d) { return d.size; });

 
var node = div.datum(tree).selectAll(".node")
      .data(treemap.nodes)
      .enter().append("div")
      .attr("class", "node")
      .on('click',function(d){
        console.log(d.name);
        console.log(d.size);
        console.log(d.mongo_id)
        console.log('\n')
        // location.href='/clustergrammer/viz/'+d.mongodb
        qs = '?col_label= CCLE '+  d.name + ' Cell Lines&row_label=Genes'
        redirect_url = '/clustergrammer/viz/'+d.mongo_id+'/'+'CCLE: '+d.name+qs;
        window.open(redirect_url, '_blank');

        console.log(redirect_url)
      })
      .attr('title', function(d) { return d.children ? null : d.name; })
      .call(position)
      .style("background-color", function(d) {
          return d.name == 'tree' ? '#fff' : color(d.name); })
      .append('div')
      .style("font-size", function(d) {
          // compute font size based on sqrt(area)
          return Math.max(15, 0.10*Math.sqrt(d.area))+'px'; })
      .text(function(d) { return d.children ? null : d.name; })

function position() {
  this.style("left", function(d) { return d.x + "px"; })
      .style("top", function(d) { return d.y + "px"; })
      .style("width", function(d) { return Math.max(0, d.dx - 1) + "px"; })
      .style("height", function(d) { return Math.max(0, d.dy - 1) + "px"; });
}


  </script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-71147904-1', 'auto');
    ga('send', 'pageview');
  </script>


</body>

